{"version":3,"sources":["../../src/pages/carrito-vt/carrito-vt.module.ts","../../src/pages/carrito-vt/carrito-vt.ts"],"names":[],"mappings":"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","file":"14.js","sourcesContent":["import { NgModule } from '@angular/core';\nimport { IonicPageModule } from 'ionic-angular';\nimport { CarritoVtPage } from './carrito-vt';\n\n@NgModule({\n  declarations: [\n    CarritoVtPage,\n  ],\n  imports: [\n    IonicPageModule.forChild(CarritoVtPage),\n  ],\n})\nexport class CarritoVtPageModule {}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/carrito-vt/carrito-vt.module.ts","import { PrecioProvider } from './../../providers/precio/precio';\nimport { Component } from '@angular/core';\nimport { SQLite, SQLiteObject } from '@ionic-native/sqlite';\nimport { IonicPage, NavController, NavParams, AlertController, ModalController, ModalOptions, Modal, ToastController, Toast } from 'ionic-angular';\nimport { isRightSide } from 'ionic-angular/umd/util/util';\n\n//IMPRIME BASE TICKET///// 23-09-2019 a las 16:56 hrs\n\n@IonicPage()\n@Component({\n  selector: 'page-carrito-vt',\n  templateUrl: 'carrito-vt.html',\n})\nexport class CarritoVtPage {\n\n\n  clavesVenta: Array<any> = [];  \n  cliente: any;\n  productos: Array<any> = []; \n  precios = [];\n  NotaVta: Array<any> = []; \n\n  tipRuta\n \n  consulta2: any;\n  consulta3: any;\n  \n  public today : number \t= Date.now();\n  \n  // variables de datos de cliente\n  numCliente:Number \n  nombreCliente:String\n  tipoVentaCliente:String\n  reconocimientoCte:number\n  revolventeCliente:String\n\n  //VARIABLES PARA CALCULO DE TOTALES\n  subtotalVta:number\n  IVAVta:number\n  IEPSVta:number\n  totalSumaVta:number\n  totalFinal:number\n  KLAcumVta:number\n  reconocimientoSobrante:number\n  reconocimientoVta:number\n\n//variables para Claves\n numCveAdd:Number\n nombreCveAdd:String\n precioCveAdd:Number\n pzCveAdd:Number\n IVACveAdd:Number\n IEPSCveAdd:Number\n importeCveAdd:Number\n imagenCveAdd:string\n\n //version final\n  constructor(\n    public navCtrl: NavController, \n    public navParams: NavParams,\n    public alertCtrl: AlertController,\n    private modal: ModalController,\n    private toastCtrl: ToastController,\n    private precioCtrl: PrecioProvider,\n    private sqlite: SQLite\n\n    ) {\n        \n       this.productos;\n\n       this.cliente = navParams.get('cliente');\n \n       this.numCliente=49;\n       this.nombreCliente=' ';\n       this.tipoVentaCliente='CONTADO';\n       this.reconocimientoCte=0.00;\n       this.revolventeCliente=\"236.96\";\n \n       this.subtotalVta=0.00;\n       this.IVAVta=0.00;\n       this.IEPSVta=0.00;\n       this.KLAcumVta=0.00;\n       this.totalSumaVta=0.00;\n       this.totalFinal=0.00;\n       this.reconocimientoSobrante=0.00;\n      \n  }\n\n  ionViewDidLoad() {\n    //this.getAllClientes();\n    this.getTipoPrecio()\n\n  }\n\n    ionViewWillEnter()\n    {\n        this.getReconocimientoClie();\n\n    } \n\n\n    //FUNCION PARA AGREGAR PRODUCTO\n    addClave(){\n\n      let prompt = this.alertCtrl.create({\n          title: 'Producto:',\n          inputs: [{\n              name: 'ClaveAdd'  //variable que trae el valor agregado\n          }],\n          buttons: [\n              {\n                  text: 'Cancelar'\n              },\n              {\n                  text: 'Agregar',\n                  handler: data => {\n                      this.clavesVenta.push(data);\n                  }\n              }\n          ]\n      });\n\n      prompt.present();\n  }\n\n\n\n  //FUNCION PARA BORRAR PRODUCTO\n  deleteClave(cve){\n    \n    let index = this.productos.indexOf(cve);\n\n    if(index > -1){\n        this.productos.splice(index, 1);\n    }\n\n    \n    /*let toast = this.toastCtrl.create({ //muestra un mensaje\n        message: index+'  ' +cve,\n        duration: 3000\n      });\n      toast.present();*/\n\n\n      //inicializar en cero antes de recalcular\n        this.subtotalVta=0;\n        this.IVAVta=0;\n        this.IEPSVta=0;\n        this.totalSumaVta=0;\n        this.KLAcumVta=0;\n\n      for(var i = 0, len = this.productos.length; i < len; i++){\n        \n        //recalcula los valores finales de la venta despues de borrar un elemento. \n        this.subtotalVta= this.subtotalVta +(this.productos[i].importe - (this.productos[i].iva + this.productos[i].ieps))\n        this.IVAVta= this.IVAVta + this.productos[i].iva;\n        this.IEPSVta = this.IEPSVta + this.productos[i].ieps;\n        this.totalSumaVta= this.totalSumaVta + (this.productos[i].importe );\n\n             //Recalculo para kilolitros\n             this.KLAcumVta=this.KLAcumVta+this.productos[i].equivalencia;\n        }\n        this.totalFinal= this.totalSumaVta-this.reconocimientoCte;\n        \n        if(this.totalFinal<0) //si el valor es negativo: hay sobrante de reconocimiento\n        { \n            this.reconocimientoSobrante=this.totalFinal* (-1);  //multiplica el valor por -1 para guardar el valor del sobrante\n            this.totalFinal=0.00;  //el  total  a pagar sera 0 mientras haya sobrante \n            this.reconocimientoVta=this.totalSumaVta; //el reconocimiento en los importes va a ser igual al total de la venta\n             \n        }\n\n        if(this.totalFinal>0 || this.reconocimientoCte==(this.subtotalVta+this.IVAVta+this.IEPSVta)) //si el total a pagar es positivo  o si el reconocimiento cubre exactamente el total de la venta\n        { \n            this.reconocimientoSobrante=0.00; //el reconocimiento  sobrante sera cero\n            this.reconocimientoVta=this.reconocimientoCte; //el reconocimiento en los importes va a ser igual al reconocimiento total del cliente\n            \n        }\n}\n\n  \n\n  listaProductos(){\n      this.navCtrl.push(\"ProductosPage\",{\n          cliente: this.cliente\n      });\n  }\n\n  openModal(){ //manda abrir el fragmento de productos\n      const myModalOptions: ModalOptions ={\n          enableBackdropDismiss: false   // ocultar el fragmento\n          \n      };\n\n      const myModal: Modal = this.modal.create('ModalPage',{cliente: this.cliente, tipoRuta:this.tipRuta, reconoClie:this.reconocimientoCte}, myModalOptions);\n\n      \n      myModal.present();  //abre el modal\n\n      myModal.onDidDismiss(producto =>{\n\n     \n        if(this.productos.length === 0){   //si es el primer producto que se agrega a la venta entra a esta opcion (el arreglo estaba vacio)\n           \n          \n            for(var i = 0, len = producto.length; i < len; i++){\n                this.productos[i] = producto[i];\n\n                //calcula los valores finales de la venta\n                this.subtotalVta= producto[i].importe - (producto[i].iva + producto[i].ieps)\n                this.IVAVta= producto[i].iva;\n                this.IEPSVta = producto[i].ieps;\n                this.totalSumaVta=  producto[i].importe;\n               \n                //calculo para kilolitros\n               this.KLAcumVta=producto[i].equivalencia;\n\n            }\n             //calculo del total a pagar \n            this.totalFinal= this.totalSumaVta-this.reconocimientoCte;\n\n            //calculos para el reconocimiento\n            if(this.totalFinal<0)\n             { \n              this.reconocimientoSobrante=this.totalFinal* (-1);\n              this.totalFinal=0.00;\n\n              this.reconocimientoVta=this.totalSumaVta; //el reconocimiento en los importes va a ser igual al total de la venta\n             \n             }\n\n             if(this.totalFinal>0 || this.reconocimientoCte==(this.subtotalVta+this.IVAVta+this.IEPSVta))\n             { \n                 this.reconocimientoSobrante=0.00;\n                 this.reconocimientoVta=this.reconocimientoCte; //el reconocimiento en los importes va a ser igual al reconocimiento total del cliente\n             }\n\n             \n\n\n    } else {    //si ya hay mas productos en el carrito entra a esta opcion\n       \n           var j=this.productos.length;\n\n           for(var i = 0, len = producto.length; i < len; i++){\n            this.productos[j] = producto[i];\n\n            //recalcula los valores finales de la venta por cada producto que se va agregando. (se suma lo anterior + lo nuevo)\n              this.subtotalVta= this.subtotalVta +(producto[i].importe - (producto[i].iva + producto[i].ieps))\n              this.IVAVta= this.IVAVta + producto[i].iva;\n              this.IEPSVta = this.IEPSVta + producto[i].ieps;\n              this.totalSumaVta= this.totalSumaVta + (producto[i].importe );\n\n              //calculo para kilolitros\n              this.KLAcumVta=this.KLAcumVta+ producto[i].equivalencia;\n\n            j++;\n            }\n\n              //calculo del total a pagar \n            this.totalFinal= this.totalSumaVta-this.reconocimientoCte;\n\n             //calculos para el reconocimiento\n            if(this.totalFinal<0)\n             { \n              this.reconocimientoSobrante=this.totalFinal* (-1);\n              this.totalFinal=0.00;\n              this.reconocimientoVta=this.totalSumaVta; //el reconocimiento en los importes va a ser igual al total de la venta\n             \n             }\n\n             if(this.totalFinal>0 || this.reconocimientoCte==(this.subtotalVta+this.IVAVta+this.IEPSVta))\n             { \n                 this.reconocimientoSobrante=0.00;\n                 this.reconocimientoVta=this.reconocimientoCte; //el reconocimiento en los importes va a ser igual al reconocimiento total del cliente\n   \n             }\n        }\n        console.log(this.productos.reverse()); //ver la  info del arreglo (el ultimo producto agregado siempre aparece al inicio de la lista)      \n    });\n\n    \n  }\n\n  presentToast() {\n    let toast = this.toastCtrl.create({\n      message: 'Error: Captura repetida',\n      duration: 3000,\n      position: 'top'\n    });\n\n    toast.onDidDismiss(() => {\n      console.log('Dismissed toast');\n    });\n  \n    toast.present();\n  }\n\n  //funcion para obtener el tipo de precio  segun la ruta\n  getTipoPrecio(){\n    this.sqlite.create({\n      name: 'ionicdb.db',\n      location: 'default'\n    }).then((db: SQLiteObject) => {\n\n      this.consulta2 = 'SELECT RT_TIPOPRECIO FROM tb_hh_rutas' \n\n      db.executeSql(this.consulta2, [])\n      .then(res => {\n        this.tipRuta;\n        if(res.rows.length>0) {\n          this.tipRuta =parseInt(res.rows.item(0).RT_TIPOPRECIO);\n          //this.tipRuta = parseInt(this.tipoPrecioRuta.RT_TIPOPRECIO)\n         }\n         //this.tipoPrecioRuta(parseInt(res))\n      })\n      .catch(e => console.log(e));\n  });\n  \n\n  }\n\n//funcion para buscar y mostrar el valor del reconocimiento (arreglo)\n  getReconocimientoClie(){\n    this.sqlite.create({\n      name: 'ionicdb.db',\n      location: 'default'\n    }).then((db: SQLiteObject) => {\n\n      this.consulta3 = 'SELECT AR_SALDO_PENDIENTE FROM tb_hh_arreglos where AR_CLIENTE= ?' \n\n      db.executeSql(this.consulta3, [this.cliente.CL_CLIENTE])\n      .then(res => {\n        this.reconocimientoCte;\n        if(res.rows.length>0) {\n          this.reconocimientoCte =parseFloat(res.rows.item(0).AR_SALDO_PENDIENTE );          \n         }\n\n         else\n         { this.reconocimientoCte=0.00;}  //si no encuentra un valor del arreglo para el cliente envia el valor en cero.\n\n      console.log(this.reconocimientoCte);\n      })\n\n      .catch(e => console.log(e));\n  });\n\n  }\n\n  goTicket(){\n\n    //Envia los datos para la pagina del ticket\n    this.navCtrl.push(\"TicketPage\",{\n      cliente: this.cliente,  //envia arreglo de datos del cliente\n      productos:this.productos,  //envia arreglos de datos del producto\n      tipoVentaCliente: this.tipoVentaCliente, //datos del total de la venta\n      reconocimientoVta: this.reconocimientoVta,\n      subtotalVta: this.subtotalVta,\n      IVAVta: this.IVAVta,\n      IEPSVta: this.IEPSVta,\n      totalFinal: this.totalFinal,\n      KLAcumVta: this.KLAcumVta,\n      producto: this.productos\n    });\n  }\n\n}//FIN1\n\n\n// WEBPACK FOOTER //\n// ./src/pages/carrito-vt/carrito-vt.ts"],"sourceRoot":""}